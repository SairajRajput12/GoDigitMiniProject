import{$ as P,A as c,B as v,C as f,D as b,E as $,F as B,G as ee,H as te,I as W,J as F,K as ne,L as ie,M as oe,R as re,S as ae,T as M,U as C,V as me,X as le,Y as L,Z as A,_ as D,aa as O,ba as j,e as X,ea as de,fa as se,g as h,ga as pe,h as Y,ha as U,i as s,j as p,k as I,l as m,m as u,n as w,o as y,p as Z,q as e,r as t,s as _,t as S,u as E,v as T,w as N,x as V,y as o,z as R}from"./chunk-32LO2LNF.js";function ue(a,l){a&1&&(e(0,"span"),o(1,"There are no events booked"),t())}function ve(a,l){if(a&1&&(e(0,"div",2)(1,"div",3)(2,"div",4),_(3,"img",5),t(),e(4,"div",6)(5,"div",7)(6,"h5",8),o(7),e(8,"span",9),o(9),t()(),e(10,"p",10),o(11),t(),e(12,"p",10)(13,"strong"),o(14,"Location:"),t(),o(15),t(),e(16,"p",10)(17,"strong"),o(18,"Time:"),t(),o(19),B(20,"date"),t(),e(21,"p",10)(22,"strong"),o(23,"Booked By:"),t(),o(24),_(25,"br"),e(26,"strong"),o(27,"Contact:"),t(),o(28),t()()()()()),a&2){let n=l.$implicit;m(3),N("alt",n.cart.selectedEvent.name),y("src",n.cart.selectedEvent.image,I),m(4),c(" ",n.cart.selectedEvent.name," "),m(2),c("\u20B9",n.cart.selectedEvent.price,""),m(2),R(n.cart.selectedEvent.description),m(4),c(" ",n.cart.selectedEvent.location," "),m(4),c(" ",ee(20,9,n.cart.selectedEvent.time,"medium")," "),m(5),c(" ",n.name," "),m(4),c(" ",n.number," ")}}var q=class a{constructor(l){this.repository=l;this.bookings=this.getOrders(),console.log(this.bookings)}includeShipped=!1;bookings=[];getOrders(){return this.repository.getOrders()}static \u0275fac=function(n){return new(n||a)(u(le))};static \u0275cmp=h({type:a,selectors:[["bookingTableComponent"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"row","g-0"],[1,"col-md-4"],[1,"img-fluid","rounded-start","h-100","object-fit-cover",2,"min-height","200px",3,"src","alt"],[1,"col-md-8"],[1,"card-body"],[1,"card-title","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-primary"],[1,"card-text"]],template:function(n,i){n&1&&w(0,ue,2,0,"span",0)(1,ve,29,12,"div",1),n&2&&(y("ngIf",i.getOrders().length===0),m(),y("ngForOf",i.getOrders()))},dependencies:[W,F,ne],encapsulation:2})};function be(a,l){if(a&1&&(e(0,"div",14),o(1),t()),a&2){let n=T();m(),c(" ",n.errorMessage," ")}}var G=class a{constructor(l,n){this.router=l;this.auth=n}username;password;errorMessage;authenticate(l){l.valid?this.auth.authenticate(this.username??"",this.password??"").subscribe(n=>{n&&this.router.navigateByUrl("/admin/main"),this.errorMessage="Authentication Failed"}):this.errorMessage="Form Data Invalid"}static \u0275fac=function(n){return new(n||a)(u(M),u(pe))};static \u0275cmp=h({type:a,selectors:[["auth-comp"]],decls:21,vars:3,consts:[["form","ngForm"],[1,"container","my-5"],[1,"bg-dark","p-3","text-center","text-white","rounded","shadow-sm"],[1,"text-danger"],["class","bg-danger mt-3 p-2 text-center text-white rounded",4,"ngIf"],[1,"bg-light","p-4","mt-3","rounded","shadow-sm"],["novalidate","",3,"ngSubmit"],[1,"mb-3"],[1,"form-label","text-dark"],["name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center"],["routerLink","/",1,"btn","btn-outline-secondary","m-1"],["type","submit",1,"btn","btn-danger","m-1"],[1,"bg-danger","mt-3","p-2","text-center","text-white","rounded"]],template:function(n,i){if(n&1){let d=S();e(0,"div",1)(1,"div",2)(2,"h3",3),o(3,"Event Booking Admin"),t()(),w(4,be,2,1,"div",4),e(5,"div",5)(6,"form",6,0),E("ngSubmit",function(){s(d);let r=V(7);return p(i.authenticate(r))}),e(8,"div",7)(9,"label",8),o(10,"Username"),t(),e(11,"input",9),b("ngModelChange",function(r){return s(d),f(i.username,r)||(i.username=r),p(r)}),t()(),e(12,"div",7)(13,"label",8),o(14,"Password"),t(),e(15,"input",10),b("ngModelChange",function(r){return s(d),f(i.password,r)||(i.password=r),p(r)}),t()(),e(16,"div",11)(17,"a",12),o(18,"Go Back"),t(),e(19,"button",13),o(20,"Log In"),t()()()()()}n&2&&(m(4),y("ngIf",i.errorMessage!=null),m(7),v("ngModel",i.username),m(4),v("ngModel",i.password))},dependencies:[F,j,L,A,D,de,O,P,C],encapsulation:2})};var H=class a{constructor(l){this.router=l}logout(){this.router.navigateByUrl("/")}static \u0275fac=function(n){return new(n||a)(u(M))};static \u0275cmp=h({type:a,selectors:[["adminComponent"]],decls:15,vars:0,consts:[[1,"container-fluid"],[1,"row","bg-black"],[1,"col","text-center","p-3"],[1,"navbar-brand","fw-bold",2,"color","#e7165a","font-size","2rem"],[1,"row","mt-2"],[1,"col-3"],["routerLink","events",1,"btn","btn-outline-danger","btn-block"],["routerLink","bookings",1,"btn","btn-outline-danger","btn-block"],[1,"btn","btn-outline-danger","btn-block",3,"click"],[1,"col-9"]],template:function(n,i){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),o(4,"Eventra"),t()()(),e(5,"div",4)(6,"div",5)(7,"button",6),o(8,"Events"),t(),e(9,"button",7),o(10,"Bookings"),t(),e(11,"button",8),E("click",function(){return i.logout()}),o(12,"Logout"),t()(),e(13,"div",9),_(14,"router-outlet"),t()()())},dependencies:[ae,C],encapsulation:2})};var ye=a=>["/admin/main/events/edit",a];function Ee(a,l){if(a&1){let n=S();e(0,"div",2)(1,"div",3)(2,"div",4),_(3,"img",5),t(),e(4,"div",6)(5,"div",7)(6,"h5",8),o(7),e(8,"span",9),o(9),B(10,"currency"),t()(),e(11,"p",10),o(12),t(),e(13,"button",11),E("click",function(){let d=s(n).$implicit,g=T();return p(g.deleteEvent(d==null?null:d.id))}),o(14," Delete "),t(),e(15,"button",12),o(16," Edit "),t()()()()()}if(a&2){let n=l.$implicit;m(3),N("alt",n.name),y("src",n.image,I),m(4),c(" ",n.name," "),m(2),c(" ",te(10,6,n.price,"USD","symbol","2.2-2")," "),m(3),R(n.description),m(3),y("routerLink",$(11,ye,n.id))}}var J=class a{constructor(l){this.repository=l}get Events(){return this.repository.getEvents(void 0)}deleteEvent(l){this.repository.deleteEvent(l)}static \u0275fac=function(n){return new(n||a)(u(U))};static \u0275cmp=h({type:a,selectors:[["event-table"]],decls:3,vars:1,consts:[["class","card mb-4 shadow-sm",4,"ngFor","ngForOf"],["routerLink","/admin/main/events/create",1,"btn","btn-danger","mt-2"],[1,"card","mb-4","shadow-sm"],[1,"row","g-0"],[1,"col-md-4"],[1,"img-fluid","rounded-start","h-100","object-fit-cover",2,"min-height","200px",3,"src","alt"],[1,"col-md-8"],[1,"card-body"],[1,"card-title","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-primary"],[1,"card-text"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"btn","btn-sm","btn-outline-danger","mr-3","ml-3",3,"routerLink"]],template:function(n,i){n&1&&(w(0,Ee,17,13,"div",0),e(1,"button",1),o(2,` Create new Event
`),t()),n&2&&y("ngForOf",i.Events)},dependencies:[W,C,ie],encapsulation:2})};var K=class{constructor(l,n,i,d,g,r,_e,we){this.id=l;this.name=n;this.category=i;this.description=d;this.price=g;this.time=r;this.location=_e;this.image=we}};var k=class a{constructor(l,n,i){this.repository=l;this.router=n;console.log("Initialisation"),this.editing=i.snapshot.params.x=="edit",console.log(this.editing),this.editing&&(Object.assign(this.event,l.getEvent(i.snapshot.params.y)),console.log(this.event))}editing=!1;event=new K;save(l){this.repository.saveProduct(this.event),this.router.navigateByUrl("/admin/main/events")}static \u0275fac=function(n){return new(n||a)(u(U),u(M),u(re))};static \u0275cmp=h({type:a,selectors:[["event-editor"]],decls:37,vars:13,consts:[["form","ngForm"],[1,"bg-primary","p-2","text-white"],["novalidate","",3,"ngSubmit"],[1,"form-group"],["name","name",1,"form-control",3,"ngModelChange","ngModel"],["name","category",1,"form-control",3,"ngModelChange","ngModel"],["name","description",1,"form-control",3,"ngModelChange","ngModel"],["name","price",1,"form-control",3,"ngModelChange","ngModel"],["name","image",1,"form-control",3,"ngModelChange","ngModel"],["name","location",1,"form-control",3,"ngModelChange","ngModel"],["name","time",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","ml-2","mr-2"],["type","reset","routerLink","/admin/main/events",1,"btn","btn-secondary"]],template:function(n,i){if(n&1){let d=S();e(0,"div",1)(1,"h5"),o(2),t()(),e(3,"form",2,0),E("ngSubmit",function(){s(d);let r=V(4);return p(i.save(r))}),e(5,"div",3)(6,"label"),o(7,"Name"),t(),e(8,"input",4),b("ngModelChange",function(r){return s(d),f(i.event.name,r)||(i.event.name=r),p(r)}),t()(),e(9,"div",3)(10,"label"),o(11,"Category"),t(),e(12,"input",5),b("ngModelChange",function(r){return s(d),f(i.event.category,r)||(i.event.category=r),p(r)}),t()(),e(13,"div",3)(14,"label"),o(15,"Description"),t(),e(16,"textarea",6),b("ngModelChange",function(r){return s(d),f(i.event.description,r)||(i.event.description=r),p(r)}),t()(),e(17,"div",3)(18,"label"),o(19,"Price"),t(),e(20,"input",7),b("ngModelChange",function(r){return s(d),f(i.event.price,r)||(i.event.price=r),p(r)}),t()(),e(21,"div",3)(22,"label"),o(23,"Image URL"),t(),e(24,"input",8),b("ngModelChange",function(r){return s(d),f(i.event.image,r)||(i.event.image=r),p(r)}),t()(),e(25,"div",3)(26,"label"),o(27,"location"),t(),e(28,"input",9),b("ngModelChange",function(r){return s(d),f(i.event.location,r)||(i.event.location=r),p(r)}),t()(),e(29,"div",3)(30,"label"),o(31,"time"),t(),e(32,"input",10),b("ngModelChange",function(r){return s(d),f(i.event.time,r)||(i.event.time=r),p(r)}),t()(),e(33,"button",11),o(34),t(),e(35,"button",12),o(36," Cancel "),t()()}n&2&&(Z("bg-warning",i.editing)("text-dark",i.editing),m(2),c("",i.editing?"Edit":"Create"," event"),m(6),v("ngModel",i.event.name),m(4),v("ngModel",i.event.category),m(4),v("ngModel",i.event.description),m(4),v("ngModel",i.event.price),m(4),v("ngModel",i.event.image),m(4),v("ngModel",i.event.location),m(4),v("ngModel",i.event.time),m(2),c(" ",i.editing?"Save":"Create"," "))},dependencies:[j,L,A,D,O,P,C],encapsulation:2})};var Ce=me.forChild([{path:"auth",component:G},{path:"main",component:H,children:[{path:"events/:x/:y",component:k},{path:"events/:x",component:k},{path:"events",component:J},{path:"bookings",component:q},{path:"**",redirectTo:"events"}]},{path:"**",redirectTo:"auth"}]),ge=class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=Y({type:a});static \u0275inj=X({imports:[oe,se,Ce]})};export{ge as AdminModule};
